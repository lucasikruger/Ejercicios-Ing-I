
----STARTUP---- (5 June 2022 15:23:39) as /Users/sebascantini/Downloads/macos64/CuisUniversity-5096.image!


Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 15:24:15'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'scb 6/5/2022 15:24:45'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 15:32:45'!
test01FirstCartIDIs1

	self assert: 1 equals: (Cart withClientID: 7 withPassword: 'password')! !

!testRun: #CartTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:32:48'!
ERROR!
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 15:33:00'!
withClientID: aSmallInteger withPassword: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithClientID: aSmallInteger withPassword: aString ! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 15:33:20' prior: 50490525!
withClientID: aSmallInteger withPassword: aString 

	^self new initializeWithClientID: aSmallInteger withPassword: aString ! !

!testRun: #CartTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:33:22'!
ERROR!

!testRun: #CartTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:33:22'!
ERROR!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 15:33:39'!
Object subclass: #Cart
	instanceVariableNames: 'smallInteger'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 15:33:40'!
Object subclass: #Cart
	instanceVariableNames: 'smallInteger string'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 15:33:40'!
initializeWithClientID: aSmallInteger withPassword: aString 
	self shouldBeImplemented.
	smallInteger := aSmallInteger.
	string := aString.! !
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 15:34:13' prior: 50490560!
initializeWithClientID: aClientID withPassword: aPassword

	^ 1! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 15:34:30' prior: 50490535!
withClientID: aClientID withPassword: aString 

	^self new initializeWithClientID: aClientID withPassword: aString ! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 15:34:36' prior: 50490573!
withClientID: aClientID withPassword: aPassword 

	^self new initializeWithClientID: aClientID withPassword: aPassword ! !

!testRun: #CartTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:34:42'!
PASSED!

!classDefinition: #CartManager category: 'TusLibros' stamp: 'scb 6/5/2022 15:49:30'!
Object subclass: #CartManager
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 15:49:27'!
test02TwoCartDontHaveSameID

	| cart1ID cart2ID |
	
	cart1ID := CartManager createCartFor: 7 andPassword: 'Password'.
	cart2ID := CartManager createCartFor: 8 andPassword: 'Password'.

	self assert: 1 equals: cart1ID.
	self assert: 2 equals: cart2ID.! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 15:49:48' prior: 50490517!
test01FirstCartIDIs1

	self assert: 1 equals: (CartManager createCartFor: 7 andPassword: 'Password')! !

Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 15:50:00'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!methodRemoval: Cart #initializeWithClientID:withPassword: stamp: 'scb 6/5/2022 15:50:03'!
initializeWithClientID: aClientID withPassword: aPassword

	^ 1!

!classRemoval: #Cart stamp: 'scb 6/5/2022 15:50:06'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRenamed: #CartTest as: #CartManagerTest stamp: 'scb 6/5/2022 15:50:14'!
Smalltalk renameClassNamed: #CartTest as: #CartManagerTest!

!testRun: #CartManagerTest #test02TwoCartDontHaveSameID stamp: 'scb 6/5/2022 15:50:22'!
ERROR!
!CartManager class methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:50:30'!
createCartFor: aSmallInteger andPassword: aString 
	self shouldBeImplemented.! !
!CartManagerTest methodsFor: 'test' stamp: 'scb 6/5/2022 15:51:28' prior: 50490595!
test02TwoCartDontHaveSameID

	| cartManager cart1ID cart2ID |
	
	cartManager := CartManager new.
	cart1ID := cartManager createCartFor: 7 andPassword: 'Password'.
	cart2ID := cartManager createCartFor: 8 andPassword: 'Password'.

	self assert: 1 equals: cart1ID.
	self assert: 2 equals: cart2ID.! !
!CartManagerTest methodsFor: 'test' stamp: 'scb 6/5/2022 15:51:39' prior: 50490606!
test01FirstCartIDIs1

	

	self assert: 1 equals: (CartManager new createCartFor: 7 andPassword: 'Password')! !

!testRun: #CartManagerTest #test02TwoCartDontHaveSameID stamp: 'scb 6/5/2022 15:51:49'!
ERROR!
!CartManager methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:51:58'!
createCartFor: aSmallInteger andPassword: aString 
	self shouldBeImplemented.! !
!CartManager methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:52:15' prior: 50490667!
createCartFor: aClientID andPassword: aPassword 
	
	^ 1! !

!testRun: #CartManagerTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:52:20'!
PASSED!

!testRun: #CartManagerTest #test02TwoCartDontHaveSameID stamp: 'scb 6/5/2022 15:52:20'!
FAILURE!

!testRun: #CartManagerTest #test02TwoCartDontHaveSameID stamp: 'scb 6/5/2022 15:52:20'!
FAILURE!

Object subclass: #CartManager
	instanceVariableNames: ' nextCardID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartManager category: 'TusLibros' stamp: 'scb 6/5/2022 15:52:44'!
Object subclass: #CartManager
	instanceVariableNames: 'nextCardID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartManager methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:53:39' prior: 50490673!
createCartFor: aClientID andPassword: aPassword 
	
	| currentCartID |
	
	nextCardID := nextCardID + 1.
	^ currentCartID.! !
!CartManager methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:53:59' prior: 50490699!
createCartFor: aClientID andPassword: aPassword 
	
	| currentCartID |
	
	currentCartID := nextCardID.
	nextCardID := nextCardID + 1.
	^ currentCartID.! !
!CartManager methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 15:54:11' overrides: 16920235!
initialize

	nextCardID := 1! !

!testRun: #CartManagerTest #test01FirstCartIDIs1 stamp: 'scb 6/5/2022 15:54:13'!
PASSED!

!testRun: #CartManagerTest #test02TwoCartDontHaveSameID stamp: 'scb 6/5/2022 15:54:13'!
PASSED!

----STARTUP---- (5 June 2022 15:57:46) as /Users/sebascantini/Downloads/macos64/CuisUniversity-5096.image!


TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'scb 6/5/2022 15:59:56'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 16:03:35'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:03:32'!
test01NewCartIsEmpty

	self assert: Cart new isEmpty! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:03:36'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:03:47'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:03:47'!
ERROR!
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 16:03:54'!
isEmpty
	self shouldBeImplemented.! !
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 16:04:07' prior: 50490525!
isEmpty
	
	^ true! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:04:09'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:04:09'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:09:03'!
test02XXX

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 9783161484100.

	self assert: Cart new isEmpty negated! !

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:09:04'!
ERROR!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:09:13'!
add: aSmallInteger 
	self shouldBeImplemented.! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:10:01' prior: 50490537!
test02XXX

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: Cart new isEmpty negated! !

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:10:03'!
ERROR!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:10:08'!
add: aSmallInteger of: aSmallInteger2 
	self shouldBeImplemented.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:10:20' prior: 50490557!
add: anAmmount of: anISBN 
	self shouldBeImplemented.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:10:24' prior: 50490562!
add: anAmmount of: anISBN 

	self shouldBeImplemented.! !

!methodRemoval: Cart #add: stamp: 'scb 6/5/2022 16:10:34'!
add: aSmallInteger 
	self shouldBeImplemented.!

Object subclass: #Cart
	instanceVariableNames: 'books'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 16:11:17'!
Object subclass: #Cart
	instanceVariableNames: 'books'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:11:33' overrides: 16920235!
initialize

	books := OrderedCollection new.! !
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 16:11:41' prior: 50490529!
isEmpty
	
	^ books isEmpty ! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:11:42'!
PASSED!

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:11:42'!
ERROR!

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:11:42'!
ERROR!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:14:02' prior: 50490585 overrides: 16920235!
initialize

	books := Dictionary new.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:14:40' prior: 50490567!
add: anAmmount of: anISBN 

	books add: (anISBN -> anAmmount)! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:14:41'!
PASSED!

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:14:41'!
ERROR!

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:14:41'!
ERROR!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:15:52' prior: 50490549!
test02XXX

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: Cart new isEmpty not! !

!testRun: #CartTest #test02XXX stamp: 'scb 6/5/2022 16:15:53'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:16:41'!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: Cart new isEmpty not! !

!methodRemoval: CartTest #test02XXX stamp: 'scb 6/5/2022 16:16:41'!
test02XXX

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: Cart new isEmpty not!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:16:52' prior: 50490624!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: aCart isEmpty not! !

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 16:16:53'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:16:53'!
PASSED!

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 16:16:53'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:26:12'!
test03CartCanShowContents

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: (OrderedCollection with: '1,9783161484100')equals: aCart list.! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:27:33' prior: 50490652!
test03CartCanShowContents

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: (OrderedCollection with: 1 with: 9783161484100) equals: aCart list.! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:28:32' prior: 50490660!
test03CartCanShowContents

	| aCart |
	
	aCart := Cart new.
	
	aCart add: 1 of: 9783161484100.

	self assert: (OrderedCollection with: (OrderedCollection with: 1 with: 9783161484100)) equals: aCart list.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:31:39' prior: 50490604!
add: anAmmount of: anISBN 

	books add: (OrderedCollection with: anISBN with: anAmmount)! !
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 16:31:52' prior: 50490600 overrides: 16920235!
initialize

	books := OrderedCollection new.! !

!testRun: #CartTest #test03CartCanShowContents stamp: 'scb 6/5/2022 16:31:57'!
ERROR!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 16:32:07'!
list
	self shouldBeImplemented.! !
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 16:32:20' prior: 50490692!
list
	
	^ books! !

!testRun: #CartTest #test03CartCanShowContents stamp: 'scb 6/5/2022 16:32:24'!
FAILURE!

----STARTUP---- (5 June 2022 16:32:55) as /Users/sebascantini/Downloads/macos64/CuisUniversity-5096.image!


TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'scb 6/5/2022 16:33:31'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 16:38:32'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:38:29'!
test01NewCartIsEmpty

	self assert: Cart new isEmpty.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:38:44'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:38:44'!
ERROR!
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 16:38:52'!
isEmpty
	self shouldBeImplemented.! !
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 16:39:05' prior: 50490522!
isEmpty
	
	^ true! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:39:09'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:39:09'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 16:44:16'!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart new.

	self deny: (aCart add: 'book') isEmpty.! !

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 16:44:18'!
ERROR!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:44:26'!
add: aString 
	self shouldBeImplemented.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 16:44:31' prior: 50490543!
add: aString 
	
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 16:44:32'!
PASSED!

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 16:44:32'!
FAILURE!

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 16:44:32'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:20:49'!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = Cart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:20:49'!
ERROR!
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:21:11'!
with: anOrderedCollection 
	self shouldBeImplemented.! !
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:21:20' prior: 50490574!
with: anOrderedCollection 
	
	^ ''! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:21:25'!
ERROR!
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:21:50' prior: 50490579!
with: anOrderedCollection 
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:21:53'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:21:53'!
ERROR!

!testRun: #CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:21:53'!
FAILURE!

!methodRemoval: CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:22:05'!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart new.

	self deny: (aCart add: 'book') isEmpty.!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:22:08'!
ERROR!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:22:08'!
ERROR!
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:22:15'!
invalidBookErrorMessage
	self shouldBeImplemented.! !
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:22:57' prior: 50490612!
invalidBookErrorMessage! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:22:59'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:22:59'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:22:59'!
FAILURE!
!Cart class methodsFor: 'error messages' stamp: 'scb 6/5/2022 17:26:53' prior: 50490617!
invalidBookErrorMessage

	^ 'Book is invalid.'! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 17:27:42' prior: 50490587!
with: aCollection 

	self new initializeWith: aCollection.
	! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 17:29:26'!
Object subclass: #Cart
	instanceVariableNames: 'collection'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 17:29:23'!
initializeWith: aCollection

	collection := aCollection! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 17:30:35' prior: 50490547!
add: aBook
	
	(collection includes: aBook) ifFalse: [ ^ self  ]
	! !

!methodRemoval: Cart class #invalidBookErrorMessage stamp: 'scb 6/5/2022 17:30:47'!
invalidBookErrorMessage

	^ 'Book is invalid.'!
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 17:30:56'!
invalidBookErrorMessage

	^ 'Book is invalid.'! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 17:31:33' prior: 50490651!
add: aBook
	
	(collection includes: aBook) ifFalse: [ ^ self invalidBookErrorMessage ]
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:31:38' prior: 50490558!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:31:39'!
ERROR!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:31:55'!
ERROR!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:32:01'!
ERROR!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:32:18' prior: 50490670!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = (aCart invalidBookErrorMessage).
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:32:19'!
ERROR!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:32:28' prior: 50490693!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 17:32:44' prior: 50490635!
with: aCollection 

	^ self new initializeWith: aCollection.
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:32:45'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:32:45'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:32:45'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:33:08' prior: 50490710!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:33:09'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:35:37'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:35:41'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:35:54'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:36:21'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:37:05' prior: 50490738!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:37:06'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:37:24'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:37:49'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 17:38:47' prior: 50490664!
add: aBook
	
	(collection includes: aBook) ifFalse: [ ^ self error: self invalidBookErrorMessage ]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:38:48'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:38:48'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:39:49' prior: 50490767!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty not ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:39:50'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:40:03'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:41:34' prior: 50490802!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
	withExceptionDo: [ :anError |
            self assert: aCart isEmpty not ]
	description: [aCart invalidBookErrorMessage].
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty not ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:41:35'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:41:51' prior: 50490822!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
	withExceptionDo: [ :anError |
            self assert: aCart isEmpty]
	description: [aCart invalidBookErrorMessage].
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
        raise: Error
        withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:41:52'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:41:52'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:41:52'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:42:11' prior: 50490845!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
	withExceptionDo: [ :anError |
            self assert: aCart isEmpty]
	description: [ aCart invalidBookErrorMessage ].! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:42:21' prior: 50490873!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
	withExceptionDo: [ :anError |
            self assert: aCart isEmpty]
	description: [ 'otro error' ].! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:22'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:42:22'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:22'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:24'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:42:24'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:24'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:42:28' prior: 50490885!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
	withExceptionDo: [ :anError |
            self assert: aCart isEmpty]
	description: [ 'otro erro' ].! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:28'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:42:28'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:28'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:42:55' prior: 50490915!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:56'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:42:56'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:42:56'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:43:02' prior: 50490936!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = 'asd'.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:43:03'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:43:06' prior: 50490958!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:43:07'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:43:07'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:43:07'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:43:29'!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:43:37'!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!methodRemoval: CartTest #test02CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:43:37'!
test02CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:43:57' prior: 50491008!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 17:45:09' prior: 50491033!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self deny: (aCart add: 'book') isEmpty! !

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:47:54'!
FAILURE!

Object subclass: #Cart
	instanceVariableNames: 'collection products'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 17:48:26'!
Object subclass: #Cart
	instanceVariableNames: 'collection products'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #Cart
	instanceVariableNames: 'collection contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'scb 6/5/2022 17:48:45'!
Object subclass: #Cart
	instanceVariableNames: 'collection contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 17:49:42'!
with: aCollection

	collection := aCollection! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/5/2022 17:49:53' prior: 50490724!
with: aCollection 

	^ self new with: aCollection.
	! !
!Cart methodsFor: 'initialization' stamp: 'scb 6/5/2022 17:50:15' overrides: 16920235!
initialize

	collection := OrderedCollection new.
	contents := OrderedCollection new.! !

!methodRemoval: Cart #initializeWith: stamp: 'scb 6/5/2022 17:50:25'!
initializeWith: aCollection

	collection := aCollection!
!Cart methodsFor: 'testing' stamp: 'scb 6/5/2022 17:51:13' prior: 50490526!
isEmpty
	
	^ contents isEmpty! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:51:16'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:51:16'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:51:16'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:51:16'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 17:51:47' prior: 50490790!
add: aBook
	
	(collection includes: aBook) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	contents add: aBook
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 17:51:47'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 17:51:47'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 17:51:47'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:01:04'!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self deny: (aCart add: -1 of: 'book') isEmpty! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:03:53'!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	! !
!Cart methodsFor: 'error messages' stamp: 'scb 6/5/2022 18:05:49'!
invalidAmountErrorMessage

	^ 'Amount is invalid'! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:06:33' prior: 50491128!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: -1 of: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:06:34'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:06:34'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:06:34'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:06:34'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:06:34'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:14:53'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:14:53'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:14:53'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:14:53'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:16:45'!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 2 of: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:16:46'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:17:26' prior: 50491113!
add: aBook
	
	contents add: 1 of: aBook
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:17:35' prior: 50491136!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	(collection includes: aBook) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:18:02' prior: 50491211!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	(collection includes: aBook) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	
	contents add: aBook
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:18:03'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:18:03'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:18:03'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:18:03'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:18:03'!
PASSED!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:18:53' prior: 50491220!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	
	contents add: aBook
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:19:01'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:01'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:19:01'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:19:01'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:01'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:19'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:19'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:19:50' prior: 50491246!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	contents add: aBook
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:19:52' prior: 50491279!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ ^ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ ^ self error: self invalidBookErrorMessage ].
	contents add: aBook.
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:19:55'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:55'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:19:55'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:19:55'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:55'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:19:57'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:20:49' prior: 50491289!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ self error: self invalidBookErrorMessage ].
	contents add: aBook.
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:20:50'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:20:50'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:20:50'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:20:50'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:20:50'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:21:11'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:21:11'!
FAILURE!
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:21:37' prior: 50491207!
add: aBook
	
	self add: 1 of: aBook
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:21:38'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:21:38'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:21:38'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:21:38'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:21:38'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:23:42' prior: 50491147!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 1 of: 'book'.
	
	self assert: aCart includes: 'book'! !

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:23:47'!
ERROR!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:26:52'!
test06CartDoesntKnowNotAddedBooks

	
	self deny: (Cart new includes: 'aBook')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:27:02' prior: 50491382!
test06CartDoesntKnowNotAddedBooks

	
	self deny: (Cart new includes: 'book')
	
	! !

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:27:03'!
ERROR!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:27:14'!
includes: aString 
	self shouldBeImplemented.! !
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:27:40' prior: 50491396!
includes: aBook

	^ contents includes: aBook! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:27:41'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:41'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:27:41'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:27:41'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:41'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:27:41'!
PASSED!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:27:48' prior: 50491400!
includes: aBook

	^ false! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:27:49'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:49'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:27:49'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:27:49'!
FAILURE!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:49'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:27:49'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:27:49'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:27:56'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:56'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:27:56'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:27:56'!
FAILURE!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:27:56'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:27:56'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:27:56'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:01:04' prior: 50491370!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self deny: (aCart add: -1 of: 'book') isEmpty! !

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:28:34'!
ERROR!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:06:33' prior: 50491472!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: -1 of: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:28:53'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:28:53'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:28:53'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:28:53'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:28:53'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:28:53'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:29:10'!
test06CartKnowsAddedBooks

	
	self deny: (Cart new includes: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:29:17'!
test07CartKnowsAddedBooks

	
	self deny: (Cart new includes: 'book')
	
	! !

!methodRemoval: CartTest #test06CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:29:17'!
test06CartKnowsAddedBooks

	
	self deny: (Cart new includes: 'book')
	
	!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:29:51' prior: 50491522!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self deny: (aCart includes: 'book')
	
	! !

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:29:52'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:29:52'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:30:03' prior: 50491532!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self assert: (aCart includes: 'book')
	
	! !

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:30:04'!
FAILURE!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:30:28' prior: 50491423!
includes: aBook

	^ contents includes: aBook! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:30:29'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:30:29'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:32:44'!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: -1 of: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !

!methodRemoval: CartTest #test04CartCantAddNonStrictlyPositiveAmmountOfBooks stamp: 'scb 6/5/2022 18:32:44'!
test04CartCantAddNonStrictlyPositiveAmmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: -1 of: 'bookOutsideOfCollection' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:37:37' prior: 50491564!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self assert: (aCart occurrencesOf: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:37:49' prior: 50491630!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self assert: 1 equals: (aCart occurrencesOf: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:37:58' prior: 50491638!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self assert: (aCart includes: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:38:40'!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	
	self assert: 1 equals: (aCart occurrencesOf: 'book')
	
	! !

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:38:41'!
ERROR!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:38:54'!
occurrencesOf: aString 
	self shouldBeImplemented.! !
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:39:06' prior: 50491664!
occurrencesOf: aString

	self shouldBeImplemented.! !
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:39:54' prior: 50491669!
occurrencesOf: aBook

	contents occurrencesOf: aBook! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:41:10' prior: 50491318!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ self error: self invalidBookErrorMessage ].
	
	1 to: anAmount do: [contents add: aBook.]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 18:42:04' prior: 50491679!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ self error: self invalidAmountErrorMessage ].
	( collection includes: aBook ) ifFalse: [ self error: self invalidBookErrorMessage ].
	
	anAmount timesRepeat: [contents add: aBook.]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:42:05'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:42:05'!
FAILURE!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:42:05'!
FAILURE!
!Cart methodsFor: 'accessing' stamp: 'scb 6/5/2022 18:42:32' prior: 50491674!
occurrencesOf: aBook

	^contents occurrencesOf: aBook! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:42:33'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:42:33'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:42:52' prior: 50490974!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 'book' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:43:15' prior: 50491601!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	
	self should: [ aCart add: -1 of: 'book' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:43:20' prior: 50491189!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 2 of: 'book' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08'!
book

	^ 'book'! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491785!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 2 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491388!
test06CartDoesntKnowNotAddedBooks

	
	self deny: (Cart new includes: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491653!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: 'book'.
	
	self assert: 1 equals: (aCart occurrencesOf: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491820!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: self book.
	
	self assert: 1 equals: (aCart occurrencesOf: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491829!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: self book.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491046!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	
	self deny: (aCart add: 'book') isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491847!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	
	self deny: (aCart add: self book) isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491771!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	
	self should: [ aCart add: -1 of: 'book' ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491862!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	
	self should: [ aCart add: -1 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491758!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491646!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: 'book'.
	
	self assert: (aCart includes: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491903!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: self book.
	
	self assert: (aCart includes: 'book')
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:08' prior: 50491911!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (OrderedCollection with: self book).
	aCart add: self book.
	
	self assert: (aCart includes: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:52'!
CollectionOfBooks

	^ OrderedCollection with: self book! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:52' prior: 50491838!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := Cart with: (self CollectionOfBooks).
	aCart add: self book.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:52' prior: 50491854!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (self CollectionOfBooks).
	
	self deny: (aCart add: self book) isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:52' prior: 50491876!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := Cart with: (self CollectionOfBooks).
	
	self should: [ aCart add: -1 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:44:52' prior: 50491919!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := Cart with: (self CollectionOfBooks).
	aCart add: self book.
	
	self assert: (aCart includes: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:00' prior: 50491941!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: self CollectionOfBooks.
	
	self deny: (aCart add: self book) isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:12' prior: 50491969!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := Cart with: (self CollectionOfBooks).
	
	self deny: (aCart add: self book) isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:27'!
CartWithCollectionOfBooks

	^ Cart with: (self CollectionOfBooks)! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:27' prior: 50491932!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self CartWithCollectionOfBooks.
	aCart add: self book.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:27' prior: 50491976!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := self CartWithCollectionOfBooks.
	
	self deny: (aCart add: self book) isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:27' prior: 50491948!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self CartWithCollectionOfBooks.
	
	self should: [ aCart add: -1 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:27' prior: 50491961!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := self CartWithCollectionOfBooks.
	aCart add: self book.
	
	self assert: (aCart includes: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:33' prior: 50491983!
CartWithCollectionOfBooks

	^ Cart with: self CollectionOfBooks! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:45'!
cartWithCollectionOfBooks

	^ Cart with: self CollectionOfBooks! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:45:45' prior: 50492003!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	
	self should: [ aCart add: -1 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assert: aCart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:45:45' prior: 50491988!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	aCart add: self book.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:45:45' prior: 50492016!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	aCart add: self book.
	
	self assert: (aCart includes: self book)
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:45:45' prior: 50491996!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	
	self deny: (aCart add: self book) isEmpty! !

!methodRemoval: CartTest #CartWithCollectionOfBooks stamp: 'scb 6/5/2022 18:45:45'!
CartWithCollectionOfBooks

	^ Cart with: self CollectionOfBooks!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:45:53'!
collectionOfBooks

	^ OrderedCollection with: self book! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:45:53' prior: 50492028!
cartWithCollectionOfBooks

	^ Cart with: self collectionOfBooks! !

!methodRemoval: CartTest #CollectionOfBooks stamp: 'scb 6/5/2022 18:45:53'!
CollectionOfBooks

	^ OrderedCollection with: self book!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:46:25'!
assertIsEmpty: aCart

	^ self assert: aCart isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:46:25' prior: 50491801!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: 2 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assertIsEmpty: aCart ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:46:25' prior: 50492033!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	
	self should: [ aCart add: -1 of: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidAmountErrorMessage.
            self assertIsEmpty: aCart ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:46:26' prior: 50491890!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self should: [ aCart add: self book ]
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = aCart invalidBookErrorMessage.
            self assertIsEmpty: aCart ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:47:02' prior: 50492064!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	aCart add: self book.
	
	self deny: aCart isEmpty! !

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:47:03'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:47:03'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:48:30'!
cartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	^aCart add: self book.! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:48:40' prior: 50492047!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooksAndBookIncluded
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:48:44' prior: 50492174!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooksAndBookIncluded.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:48:45'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:48:45'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:48:53' prior: 50492056!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooksAndBookIncluded.
	
	self assert: (aCart includes: self book)
	
	! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:49:04' prior: 50492133!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := self cartWithCollectionOfBooksAndBookIncluded.
	
	self deny: aCart isEmpty! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:54:14'!
with: aCart should: aClosureToFail rise: errorMessage

	self should: aClosureToFail
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = errorMessage.
            self assertIsEmpty: aCart ]! !
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:54:44' prior: 50492094!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self with: aCart should: [ aCart add: 2 of: self book ] rise: aCart invalidBookErrorMessage! !

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:54:45'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:54:45'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:55:10' prior: 50492107!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] rise: aCart invalidAmountErrorMessage! !

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:55:11'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:55:11'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:55:39' prior: 50492120!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self with: aCart should: [ aCart add: self book ] rise: aCart invalidBookErrorMessage! !

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/5/2022 18:55:40'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/5/2022 18:55:40'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'scb 6/5/2022 18:56:01'!
with: aCart should: aClosureToFail riseErrorWithMessage: errorMessage

	self should: aClosureToFail
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = errorMessage.
            self assertIsEmpty: aCart ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:56:01' prior: 50492317!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self with: aCart should: [ aCart add: self book ] riseErrorWithMessage: aCart invalidBookErrorMessage! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:56:01' prior: 50492242!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart with: OrderedCollection new.
	
	self with: aCart should: [ aCart add: 2 of: self book ] riseErrorWithMessage: aCart invalidBookErrorMessage! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:56:01' prior: 50492280!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self cartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !

!methodRemoval: CartTest #with:should:rise: stamp: 'scb 6/5/2022 18:56:01'!
with: aCart should: aClosureToFail rise: errorMessage

	self should: aClosureToFail
	raise: Error
       	withExceptionDo: [ :anError |
            self assert: anError messageText = errorMessage.
            self assertIsEmpty: aCart ]!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/5/2022 18:57:17'!
initializationCartWithCollectionOfBooks

	^ Cart with: self collectionOfBooks! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:17' prior: 50492385!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self initializationCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:17' prior: 50492167!
cartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self initializationCartWithCollectionOfBooks.
	^aCart add: self book.! !

!methodRemoval: CartTest #cartWithCollectionOfBooks stamp: 'scb 6/5/2022 18:57:17'!
cartWithCollectionOfBooks

	^ Cart with: self collectionOfBooks!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/5/2022 18:57:27'!
initializeCartWithCollectionOfBooks

	^ Cart with: self collectionOfBooks! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:27' prior: 50492422!
cartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	^aCart add: self book.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:27' prior: 50492411!
test04CartCantAddNonStrictlyPositiveAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !

!methodRemoval: CartTest #initializationCartWithCollectionOfBooks stamp: 'scb 6/5/2022 18:57:27'!
initializationCartWithCollectionOfBooks

	^ Cart with: self collectionOfBooks!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/5/2022 18:57:41'!
initializeCartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	^aCart add: self book.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:41' prior: 50492226!
test03CartWithBookIsNotEmpty

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooksAndBookIncluded.
	
	self deny: aCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:41' prior: 50492182!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooksAndBookIncluded.
	
	self assert: 1 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/5/2022 18:57:41' prior: 50492218!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooksAndBookIncluded.
	
	self assert: (aCart includes: self book)
	
	! !

!methodRemoval: CartTest #cartWithCollectionOfBooksAndBookIncluded stamp: 'scb 6/5/2022 18:57:41'!
cartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	^aCart add: self book.!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/5/2022 18:58:03'!
initializeCollectionOfBooks

	^ OrderedCollection with: self book! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:00:43'!
riseInvalidAmountError

	^ self error: self invalidAmountErrorMessage! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:00:43' prior: 50491690!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ self riseInvalidAmountError ].
	( collection includes: aBook ) ifFalse: [ self error: self invalidBookErrorMessage ].
	
	anAmount timesRepeat: [contents add: aBook.]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:01:19'!
riseInvalidBookError

	^ self error: self invalidBookErrorMessage! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:01:19' prior: 50492513!
add: anAmount of: aBook
	
	( anAmount strictlyPositive ) ifFalse: [ self riseInvalidAmountError ].
	( collection includes: aBook ) ifFalse: [ self riseInvalidBookError ].
	
	anAmount timesRepeat: [contents add: aBook.]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:02:10'!
assertStrictlyPositiveAmount: anAmount
	
	^ ( anAmount strictlyPositive ) ifFalse: [ self riseInvalidAmountError ]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:02:25' prior: 50492528!
add: anAmount of: aBook
	
	self assertStrictlyPositiveAmount: anAmount.
	( collection includes: aBook ) ifFalse: [ self riseInvalidBookError ].
	
	anAmount timesRepeat: [contents add: aBook.]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:02:55'!
assertValidBook: aBook
	
	^ ( collection includes: aBook ) ifFalse: [ self riseInvalidBookError ]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/5/2022 19:03:16' prior: 50492544!
add: anAmount of: aBook
	
	self assertStrictlyPositiveAmount: anAmount.
	self assertValidBook: aBook.
	
	anAmount timesRepeat: [contents add: aBook.]
	! !

----SNAPSHOT----(5 June 2022 19:06:33) CuisUniversity-5096.image priorSource: 5082876!


----STARTUP---- (6 June 2022 18:53:48) as /home/clinux01/Descargas/linux64/CuisUniversity-5093.image!


!classRemoval: #ReceptiveAccount stamp: 'lk 6/6/2022 18:53:59'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'lk 6/6/2022 18:54:00'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'lk 6/6/2022 18:54:00'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'lk 6/6/2022 18:54:00'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'lk 6/6/2022 18:54:00'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'lk 6/6/2022 18:54:01'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortfolioTest stamp: 'lk 6/6/2022 18:54:01'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #MarsRoverHeading stamp: 'lk 6/6/2022 18:54:07'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: 'cardinalPoint forwardPoint rightHeading leftHeading'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #MarsRover stamp: 'lk 6/6/2022 18:54:07'!
Object subclass: #MarsRover
	instanceVariableNames: 'position heading'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #MarsRoverTests stamp: 'lk 6/6/2022 18:54:08'!
TestCase subclass: #MarsRoverTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #MarsRoverTest stamp: 'lk 6/6/2022 18:54:08'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

----End fileIn of /home/clinux01/Descargas/linux64/TusLibros.st----!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 18:58:24'!
test04CartCantAddNonStrictlyPositiveAndNonIntegerAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAndNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAndNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 18:58:26'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 18:59:11'!
test04CartCantAddNonIntegerAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: 1.5 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !

!methodRemoval: CartTest #test04CartCantAddNonStrictlyPositiveAndNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 18:59:22'!
test04CartCantAddNonStrictlyPositiveAndNonIntegerAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: -1 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 18:59:55'!
test04_5CartCantAddNonIntegerAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: 1.5 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage! !

!methodRemoval: CartTest #test04CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 18:59:55'!
test04CartCantAddNonIntegerAmountOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	
	self with: aCart should: [ aCart add: 1.5 of: self book ] riseErrorWithMessage: aCart invalidAmountErrorMessage!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:00:00'!
FAILURE!
!Cart methodsFor: 'asserting' stamp: 'lk 6/6/2022 19:00:19' prior: 50483784!
assertStrictlyPositiveAmount: anAmount
	
	^ ( anAmount strictlyPositive and: anAmount isInteger) ifFalse: [ self riseInvalidAmountError ]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:00:20'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:00:20'!
PASSED!
!Cart methodsFor: 'asserting' stamp: 'lk 6/6/2022 19:00:45'!
assertIsStrictlyPositiveInteger: anAmount

	^ anAmount strictlyPositive and: anAmount isInteger! !
!Cart methodsFor: 'asserting' stamp: 'lk 6/6/2022 19:00:45' prior: 50483926!
assertStrictlyPositiveAmount: anAmount
	
	^ ( self assertIsStrictlyPositiveInteger: anAmount) ifFalse: [ self riseInvalidAmountError ]
	! !

!methodRemoval: CartTest #initializeCollectionOfBooks stamp: 'lk 6/6/2022 19:00:55'!
initializeCollectionOfBooks

	^ OrderedCollection with: self book!
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:01:09'!
initializeCollectionOfBooks

	^ OrderedCollection with: self book! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:01:09' prior: 50483666!
initializeCartWithCollectionOfBooks

	^ Cart with: self initializeCollectionOfBooks! !

!methodRemoval: CartTest #collectionOfBooks stamp: 'lk 6/6/2022 19:01:09'!
collectionOfBooks

	^ OrderedCollection with: self book!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 19:01:36' prior: 50483687!
test02CartCantAddBookOutsideOfCollection

	| aCart |
	
	aCart := Cart new.
	
	self with: aCart should: [ aCart add: self book ] riseErrorWithMessage: aCart invalidBookErrorMessage! !
!CartTest methodsFor: 'test - error' stamp: 'lk 6/6/2022 19:02:52' prior: 50483743!
with: aCart should: aClosureToFail riseErrorWithMessage: errorMessage

	self should: aClosureToFail
	raise: Error
	withMessageText: errorMessage.
	
	self assertIsEmpty: aCart
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:02:56'!
PASSED!

TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'lk 6/6/2022 19:03:22'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 19:06:11' prior: 50483728!
test07CartKnowsAddedBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooksAndBookIncluded.
	
	self assert: aCart includes: self book
	
	! !

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:06:12'!
PASSED!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'lk 6/6/2022 19:11:28'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'no messages' stamp: 'lk 6/6/2022 19:11:24'!
test01CantCheckoutEmptyCart
	
	|cashier|

	cashier := Cashier new.

	self should: [cashier checkout: Cart new]
	raise: Error
	withMessageText: cashier emptyCartErrorMessage. ! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:11:33'!
ERROR!
!Cashier methodsFor: 'error message' stamp: 'lk 6/6/2022 19:11:49'!
emptyCartErrorMessage
	self shouldBeImplemented.! !
!Cashier methodsFor: 'error message' stamp: 'lk 6/6/2022 19:12:34' prior: 50484104!
emptyCartErrorMessage
	
	^ 'Error: empty cart'! !
!Cashier methodsFor: 'error message' stamp: 'lk 6/6/2022 19:12:48' prior: 50484109!
emptyCartErrorMessage
	
	^ 'cart is empty'! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:12:52'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:13:57' prior: 50484093!
test01CantCheckoutEmptyCart
	
	|cashier|

	cashier := Cashier new.

	self should: [cashier checkout: Cart new]
	raise: Error
	withMessageText: cashier emptyCartErrorMessage. ! !
!Cashier methodsFor: 'checkout' stamp: 'lk 6/6/2022 19:15:52'!
checkout: aCart
	(aCart isEmpty) ifTrue: []! !
!Cashier methodsFor: 'checkout' stamp: 'lk 6/6/2022 19:16:05' prior: 50484130!
checkout: aCart
	(aCart isEmpty) ifTrue: [self emptyCartErrorMessage ]! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:16:06'!
FAILURE!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:16:06'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'lk 6/6/2022 19:16:23' prior: 50484134!
checkout: aCart
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ]! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:16:24'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:27:36'!
test02CashierCanCalculateCheckoutPrice
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:28:11' prior: 50484153!
test02CashierCanCalculateCheckoutPrice
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:28:22' prior: 50484163!
test02CashierCanCalculateCheckoutPrice
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
! !

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:28:22'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:28:49' prior: 50484122!
test01CantCheckoutEmptyCart

	self should: [Cashier checkout: Cart new]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!Cashier class methodsFor: 'no messages' stamp: 'lk 6/6/2022 19:29:10'!
with: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ]! !

!methodRemoval: Cashier #checkout: stamp: 'lk 6/6/2022 19:29:17'!
checkout: aCart
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ]!

!methodRemoval: Cashier #emptyCartErrorMessage stamp: 'lk 6/6/2022 19:29:21'!
emptyCartErrorMessage
	
	^ 'cart is empty'!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:29:32'!
emptyCartErrorMessage
	
	^ 'cart is empty'! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:29:47'!
FAILURE!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:29:47'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:29:57' prior: 50484187!
test01CantCheckoutEmptyCart

	self should: [Cashier with: Cart new]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:29:58'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:29:58'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:29:58'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:29:58'!
ERROR!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:30:04'!
PASSED!
!Cashier methodsFor: 'no messages' stamp: 'lk 6/6/2022 19:30:32'!
checkout
	
	^ 10! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:30:33'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:30:33'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:30:33'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:30:42'!
ERROR!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:31:15' prior: 50484194!
with: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:31:16'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:31:16'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:31:42'!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
! !

!methodRemoval: CashierTest #test02CashierCanCalculateCheckoutPrice stamp: 'lk 6/6/2022 19:31:42'!
test02CashierCanCalculateCheckoutPrice
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:32:26'!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 5 to: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 50 equals: aCashier checkout.
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:34:37'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:34:47' prior: 50484291!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart with: (OrderedCollection with: 'book').
	aCart add: 5 of: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 50 equals: aCashier checkout.
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:34:48'!
FAILURE!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:35:18' prior: 50484258!
with: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeWith: aCart.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:35:20'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 19:35:20'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:35:20'!
ERROR!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:35:32'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 19:35:32'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:35:32'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 19:35:33'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'lk 6/6/2022 19:35:46'!
Object subclass: #Cashier
	instanceVariableNames: 'cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'lk 6/6/2022 19:35:46'!
initializeWith: aCart 
	self shouldBeImplemented.
	cart := aCart.! !
!Cashier methodsFor: 'initialization' stamp: 'lk 6/6/2022 19:35:50' prior: 50484359!
initializeWith: aCart 

	cart := aCart.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:35:54'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 19:35:54'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:35:54'!
FAILURE!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:35:54'!
FAILURE!

Object subclass: #Cart
	instanceVariableNames: 'collection contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'lk 6/6/2022 19:37:57'!
Object subclass: #Cart
	instanceVariableNames: 'collection contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'lk 6/6/2022 19:38:01'!
Object subclass: #Cart
	instanceVariableNames: 'catalog contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:38:01' prior: 50483790!
assertValidBook: aBook
	
	^ ( catalog includes: aBook ) ifFalse: [ self riseInvalidBookError ]
	! !
!Cart methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:38:01' prior: 50483796!
with: aCollection

	catalog := aCollection! !
!Cart methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:38:01' prior: 50483809 overrides: 16920235!
initialize

	catalog := OrderedCollection new.
	contents := OrderedCollection new.! !
!Cart methodsFor: 'adding' stamp: 'lk 6/6/2022 19:38:09' prior: 50483777!
add: anAmount of: aBook
	
	self assertStrictlyPositiveAmount: anAmount.
	self assertValidBook: aBook.
	
	anAmount timesRepeat: [catalog add: aBook.]
	! !
!Cart methodsFor: 'accessing' stamp: 'lk 6/6/2022 19:38:44' prior: 50483765!
includes: aBook

	^ catalog includes: aBook! !
!Cart methodsFor: 'accessing' stamp: 'lk 6/6/2022 19:38:50' prior: 50483769!
occurrencesOf: aBook

	^ catalog occurrencesOf: aBook! !
!Cart methodsFor: 'accessing' stamp: 'lk 6/6/2022 19:39:08' prior: 50484425!
includes: aBook

	^ contents includes: aBook! !
!Cart methodsFor: 'adding' stamp: 'lk 6/6/2022 19:39:16' prior: 50484417!
add: anAmount of: aBook
	
	self assertStrictlyPositiveAmount: anAmount.
	self assertValidBook: aBook.
	
	anAmount timesRepeat: [contents add: aBook.]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:39:17'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:40:43' prior: 50484270!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book').
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:44:46' prior: 50484306!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 50 equals: aCashier checkout.
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:45:00'!
ERROR!
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:46:26'!
initializeCatalogOfBooks

	^ OrderedCollection with: self book! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:46:26' prior: 50483983!
initializeCartWithCollectionOfBooks

	^ Cart with: self initializeCatalogOfBooks! !

!methodRemoval: CartTest #initializeCollectionOfBooks stamp: 'lk 6/6/2022 19:46:26'!
initializeCollectionOfBooks

	^ OrderedCollection with: self book!
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:46:40' prior: 50484499!
initializeCatalogOfBooks

	^ Dictionary with: self book -> 10! !
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:46:46'!
bookPrice

	^ 10! !
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:46:46' prior: 50484515!
initializeCatalogOfBooks

	^ Dictionary with: self book -> self bookPrice! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:46:56'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:46:56'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:46:56'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:46:56'!
ERROR!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:47:01'!
ERROR!
!Cart methodsFor: 'asserting' stamp: 'lk 6/6/2022 19:47:38' prior: 50484401!
assertValidBook: aBook
	
	^ ( catalog key includes: aBook ) ifFalse: [ self riseInvalidBookError ]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:47:39'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:47:39'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:47:39'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:47:39'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:47:39'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:47:39'!
FAILURE!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:47:39'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:47:39'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:47:39'!
ERROR!
!Cart methodsFor: 'asserting' stamp: 'lk 6/6/2022 19:47:58' prior: 50484560!
assertValidBook: aBook
	
	^ ( catalog keys includes: aBook ) ifFalse: [ self riseInvalidBookError ]
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:47:59'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:47:59'!
FAILURE!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:47:59'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:47:59'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:48:05'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:48:29'!
FAILURE!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:48:29'!
FAILURE!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:48:29'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:48:29'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:48:32'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:49:11'!
FAILURE!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:49:45'!
FAILURE!
!Cart methodsFor: 'initialization' stamp: 'lk 6/6/2022 19:50:35' prior: 50484412 overrides: 16920235!
initialize

	catalog := Dictionary new.
	contents := OrderedCollection new.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:50:36'!
FAILURE!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:50:36'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:50:36'!
FAILURE!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 19:50:51' prior: 50483713!
test05CartCantAddMultipleCopiesOfBookOutsideOfCollection

	| aCart |
	
	aCart := Cart new.
	
	self with: aCart should: [ aCart add: 2 of: self book ] riseErrorWithMessage: aCart invalidBookErrorMessage! !

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:50:57'!
FAILURE!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:50:57'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:51:00'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:51:00'!
FAILURE!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:51:00'!
FAILURE!
!Cart methodsFor: 'accessing' stamp: 'lk 6/6/2022 19:51:42' prior: 50484429!
occurrencesOf: aBook

	^ contents occurrencesOf: aBook! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:51:43'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:51:43'!
PASSED!
!CartTest methodsFor: 'test' stamp: 'lk 6/6/2022 19:52:38' prior: 50483735!
test08CartKnowsOccurrancesOfBooks

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooksAndBookIncluded.
	
	self assert: 2 equals: (aCart occurrencesOf: self book)
	
	! !
!CartTest methodsFor: 'initializations' stamp: 'lk 6/6/2022 19:52:50' prior: 50483671!
initializeCartWithCollectionOfBooksAndBookIncluded

	| aCart |
	
	aCart := self initializeCartWithCollectionOfBooks.
	^aCart add: 2 of: self book.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 19:52:52'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 19:52:52'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:53:07' prior: 50484474!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:53:56' prior: 50484241!
checkout
	
	| catalog |
	
	catalog := cart catalog.! !
!Cart methodsFor: 'accessing' stamp: 'lk 6/6/2022 19:54:29'!
catalog
	
	^ catalog! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 19:58:40' prior: 50484836!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	^ price.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 19:58:42'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 19:58:42'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 19:58:42'!
ERROR!
!OrderedCollection methodsFor: 'enumerating' stamp: 'lk 6/6/2022 19:59:23' prior: 16905319 overrides: 16934379!
do: aBlock 

	firstIndex to: lastIndex do: [ :index |
		aBlock value: (array at: index) ].! !
!OrderedCollection methodsFor: 'enumerating' stamp: 'lk 6/6/2022 19:59:25' prior: 50484863 overrides: 16934379!
do: aBlock 

	firstIndex to: lastIndex do: [ :index |
		aBlock value: (array at: index) ]! !
!Cart methodsFor: 'enumerating' stamp: 'lk 6/6/2022 20:00:21'!
do: aClosure

	contents do: aClosure! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'lk 6/6/2022 20:00:22'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'lk 6/6/2022 20:00:29'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'lk 6/6/2022 20:00:29'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'lk 6/6/2022 20:00:29'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 20:01:22'!
test04CantCheckoutWithInvalidCard
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'lk 6/6/2022 20:03:31' prior: 50484917!
test04CantCheckoutWithInvalidCard
	
	self assert: false! !

!testRun: #CashierTest #test04CantCheckoutWithInvalidCard stamp: 'lk 6/6/2022 20:03:32'!
FAILURE!

----SNAPSHOT----(6 June 2022 21:21:56) CuisUniversity-5093.image priorSource: 4861273!
----STARTUP---- (7 June 2022 18:43:22) as /Users/sebascantini/Downloads/macos64/CuisUniversity-5096.image!


----End fileIn of /Users/sebascantini/Downloads/macos64/TusLibros.st----!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:46:15'!
test04CantCheckoutWithExpiredCard
	
	self assert: false! !

!methodRemoval: CashierTest #test04CantCheckoutWithInvalidCard stamp: 'scb 6/7/2022 18:46:15'!
test04CantCheckoutWithInvalidCard
	
	self assert: false!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:46:48'!
checkoutPrice
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	^ price.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:46:48' prior: 50492730!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 50 equals: aCashier checkoutPrice.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:46:48' prior: 50492720!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart with: (Dictionary with: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier with: aCart.
	
	
	self assert: 10 equals: aCashier checkoutPrice.
! !

!methodRemoval: Cashier #checkout stamp: 'scb 6/7/2022 18:46:48'!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	^ price.!
!Cart methodsFor: 'configuration' stamp: 'scb 6/7/2022 18:49:06'!
checkout: aCollection

	catalog := aCollection! !
!Cart class methodsFor: 'instance creation' stamp: 'scb 6/7/2022 18:49:06'!
checkout: aCollection 

	^ self new with: aCollection.
	! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06'!
checkout: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeWith: aCart.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492713!
test01CantCheckoutEmptyCart

	self should: [Cashier checkout: Cart new]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492622!
initializeCatalogOfBooks

	^ Dictionary checkout: self book -> self bookPrice! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492838!
with: aCollection 

	^ self new checkout: aCollection.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492902!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary checkout: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 50 equals: aCashier checkoutPrice.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492913!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary checkout: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 10 equals: aCashier checkoutPrice.
! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492610!
initializeCartWithCollectionOfBooks

	^ Cart checkout: self initializeCatalogOfBooks! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:06' prior: 50492934!
checkout: aCollection 

	^ self new checkout: aCollection.
	! !

!methodRemoval: Cart #with: stamp: 'scb 6/7/2022 18:49:06'!
with: aCollection

	catalog := aCollection!

!methodRemoval: Cart class #with: stamp: 'scb 6/7/2022 18:49:06'!
with: aCollection 

	^ self new checkout: aCollection.
	!

!methodRemoval: Cashier class #with: stamp: 'scb 6/7/2022 18:49:06'!
with: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeWith: aCart.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:49:53' prior: 50492885!
test04CantCheckoutWithExpiredCard
	
	| aCart aCashier aCreditCard |
	
! !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'scb 6/7/2022 18:50:51'!
Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:50:48' prior: 50493012!
test04CantCheckoutWithExpiredCard
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary checkout: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier checkout: aCart with: CreditCard new.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:51:08' prior: 50493024!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary checkout: 'book' -> 10).
	aCart add: 5 of: 'book'.
	Cashier checkout: aCart with: CreditCard new.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:53:09' prior: 50493034!
test04CantCheckoutWithExpiredCard
	
	self should: [Cashier checkout: Cart new with: CreditCard new.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:53:20'!
expiredCreditCard

	^ CreditCard new! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:53:20' prior: 50493043!
test04CantCheckoutWithExpiredCard
	
	self should: [Cashier checkout: Cart new with: self expiredCreditCard.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:53:31'!
ERROR!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:53:49'!
expiredCreditCardErrorMessage
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:54:06' prior: 50493069!
expiredCreditCardErrorMessage
	
	^ 'credit card is expired'! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:54:10'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:54:26'!
FAILURE!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:54:47'!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeWith: aCart.! !
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 18:55:27'!
initializeCheckoutOf: aCart 

	cart := aCart.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:55:27' prior: 50492939!
checkout: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeCheckoutOf: aCart.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:55:27' prior: 50493085!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeCheckoutOf: aCart.! !

!methodRemoval: Cashier #initializeWith: stamp: 'scb 6/7/2022 18:55:27'!
initializeWith: aCart 

	cart := aCart.!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:55:40' prior: 50493105!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:56:16' prior: 50493117!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpired) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:56:18'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:56:18'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:56:18'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:56:18'!
FAILURE!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:56:35'!
ERROR!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:57:05'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:57:05'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:57:05'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:57:05'!
FAILURE!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:57:07'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:57:28' prior: 50492977!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary add: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 10 equals: aCashier checkoutPrice.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:57:34' prior: 50492965!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary add: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 50 equals: aCashier checkoutPrice.
! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:57:38'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:57:38'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:57:38'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:57:38'!
FAILURE!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:57:40'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:57:59' prior: 50493172!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 10 equals: aCashier checkoutPrice.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:58:04' prior: 50493183!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 50 equals: aCashier checkoutPrice.
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:58:06'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:58:06'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:58:06'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:58:06'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:06'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:06'!
FAILURE!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:58:13'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:58:13'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:58:13'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:13'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:13'!
FAILURE!
!CreditCard methodsFor: 'no messages' stamp: 'scb 6/7/2022 18:58:46'!
isExpired

	^true! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:58:49'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:58:49'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:58:49'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:49'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:58:49'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 18:59:22' prior: 50493057!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: self expiredCreditCard.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:59:23'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 18:59:23'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 18:59:23'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 18:59:23'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 18:59:23'!
PASSED!

!methodRemoval: CashierTest #expiredCreditCard stamp: 'scb 6/7/2022 19:16:43'!
expiredCreditCard

	^ CreditCard new!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:19:55' prior: 50493293!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: Date ).]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:21:02' prior: 50493326!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: Date today).]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:21:03'!
FAILURE!
!CreditCard class methodsFor: 'no messages' stamp: 'scb 6/7/2022 19:27:22'!
withExpirationDate: aDate

	self new initializeWithExpirationDate: aDate! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 19:27:27'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 19:27:27'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 19:27:27'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:27:27'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:27:27'!
FAILURE!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'scb 6/7/2022 19:28:09'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:28:04'!
initializeWithExpirationDate: aDate

	expirationDate := aDate! !

!methodRemoval: CreditCard #isExpired stamp: 'scb 6/7/2022 19:28:58'!
isExpired

	^true!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:30:48'!
isExpiredOn: aDate

	^ expirationDate < aDate! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:40:18' prior: 50493339!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1)) on: (Month month: Date today monthIndex year: Date today yearNumber)]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage. 
	! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:43:19' prior: 50493126!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpired) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:43:45'!
checkout: aCart with: aCreditCard on: aDate

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpired) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !

!methodRemoval: Cashier class #checkout:with: stamp: 'scb 6/7/2022 19:43:47'!
checkout: aCart with: aCreditCard

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpired) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:44:07' prior: 50493424!
checkout: aCart with: aCreditCard on: aDate

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 19:44:44'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 19:44:44'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 19:44:44'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:44:44'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:44:44'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:52:28' prior: 50493396!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1)) on: (Month month: Date today monthIndex year: Date today yearNumber)]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:52:29'!
FAILURE!
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:53:30' prior: 50493354!
withExpirationDate: aDate

	^self new initializeWithExpirationDate: aDate! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 19:53:33'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 19:53:33'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 19:53:33'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:53:33'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:53:33'!
FAILURE!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:54:26' prior: 50493391!
isExpiredOn: aDate

	^ aDate > expirationDate! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 19:54:27'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 19:54:27'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 19:54:27'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:54:27'!
FAILURE!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:54:27'!
FAILURE!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:55:27' prior: 50493518!
isExpiredOn: aDate

	^ 1! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:59:43' prior: 50493540!
isExpiredOn: aDate

	^ expirationDate yearNumber < aDate yearNumber or: (expirationDate yearNumber = aDate yearNumber and: expirationDate monthIndex < aDate monthIndex )! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 19:59:46' prior: 50493544!
isExpiredOn: aDate

	^ expirationDate yearNumber < aDate yearNumber or: ( expirationDate yearNumber = aDate yearNumber and: expirationDate monthIndex < aDate monthIndex )! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 19:59:46'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 19:59:46'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 19:59:46'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 19:59:46'!
PASSED!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/7/2022 20:21:08'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aCredit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:21:42'!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aLedger aPrice |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkoutPrice .
	
	self assert: false! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:23:07'!
checkout: aCart with: aCreditCard on: aDate registerOn: aLedger 

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:23:07' prior: 50493475!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1)) on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: 0]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	! !

!methodRemoval: Cashier class #checkout:with:on: stamp: 'scb 6/7/2022 20:23:07'!
checkout: aCart with: aCreditCard on: aDate

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	^ self new initializeCheckoutOf: aCart with: aCreditCard.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:23:31' prior: 50493582!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aLedger aPrice |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkoutPrice .
	
	self assert: false! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:31:23' prior: 50493600!
checkout: aCart with: aCreditCard on: aDate registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.! !
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 20:33:31'!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	! !
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 20:33:57' prior: 50493671!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart
	! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'scb 6/7/2022 20:34:23'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 20:34:22' prior: 50493676!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'scb 6/7/2022 20:34:41'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard ledger'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 20:34:39' prior: 50493689!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger
	! !
!Cashier methodsFor: 'initialization' stamp: 'scb 6/7/2022 20:34:48' prior: 50493703!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:36:51' prior: 50493612!
test04CantCheckoutWithExpiredCard
	
	| aCart |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	
	self should: [Cashier checkout: aCart with: (CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1)) on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: OrderedCollection new]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:37:06' prior: 50493640!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: OrderedCollection new.
	
	aPrice := aCashier checkoutPrice .
	
	self assert: false! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:37:31' prior: 50493736!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: OrderedCollection new.
	
	aPrice := aCashier checkoutPrice.
	
	self assert: false! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:38:12'!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	^ price.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:38:12' prior: 50493755!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: OrderedCollection new.
	
	aPrice := aCashier checkout.
	
	self assert: false! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:38:12' prior: 50493212!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:38:12' prior: 50493223!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCashier := Cashier checkout: aCart.
	
	
	self assert: 50 equals: aCashier checkout.
! !

!methodRemoval: Cashier #checkoutPrice stamp: 'scb 6/7/2022 20:38:12'!
checkoutPrice
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	^ price.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:45:45' prior: 50493781!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aLedger size = 1.
	self assert: aLedger first = aPrice.! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:45:47'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:46:00' prior: 50493830!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aLedger size = 1.
	self assert: aLedger first = aPrice.! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:46:03'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:46:19' prior: 50493854!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aLedger size = 1.
	self assert: aLedger first = aPrice.! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:46:20'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:47:07' prior: 50493878!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:47:09'!
FAILURE!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:47:35' prior: 50493773!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	
	cart do: [ :product | price := price + catalog at: product ].
	
	ledger add: price.
	
	^ price.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 20:47:36'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 20:47:36'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 20:47:36'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 20:47:37'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:47:37'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 20:47:45'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:48:50' prior: 50493800!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:06' prior: 50493811!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.

	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:07' prior: 50493975!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:35' prior: 50493955!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber+ 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:39' prior: 50494015!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber+1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:50' prior: 50494035!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber+1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:49:54' prior: 50494055!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:50:21'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 20:50:21'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 20:50:21'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 20:50:21'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 20:50:21'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:50:21'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:50:56' prior: 50493718!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:51:03' prior: 50494115!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 20:51:04'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 20:51:04'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 20:51:04'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 20:51:04'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 20:51:04'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:51:04'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:51:35' prior: 50494135!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	
	self assert: 0 equals: aLedger size
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:51:42' prior: 50494175!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: 0 equals: aLedger size
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:51:53' prior: 50494196!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/7/2022 20:52:03' prior: 50493902!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:52:04'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/7/2022 20:52:04'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/7/2022 20:52:04'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/7/2022 20:52:05'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/7/2022 20:52:05'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/7/2022 20:52:05'!
PASSED!

----SNAPSHOT----(7 June 2022 20:53:49) CuisUniversity-5096.image priorSource: 5149848!

----STARTUP---- (8 June 2022 22:04:32) as /Users/sebascantini/Downloads/macos64/CuisUniversity-5096.image!


!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:04:58'!
PASSED!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 22:21:59'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aCredit debitedCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 22:22:00'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aCredit debitedCreditCard debitedAmount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:22:06'!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	
	
	self assert: aCreditCard equals: debitedCreditCard.
	self assert: aPrice equals: debitedAmount.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:22:11' prior: 50494320!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aCreditCard equals: debitedCreditCard.
	self assert: aPrice equals: debitedAmount.! !

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:22:13'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:24:05' prior: 50494343!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:26:23'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:38:01'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:39:42' prior: 50492946!
test01CantCheckoutEmptyCart

	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:39:53' prior: 50494399!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:39:54'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:39:54'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:39:54'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:41:15'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:41:15'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:41:15'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:41:15'!
ERROR!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:41:15'!
ERROR!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:41:15'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:41:15'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:41:15'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:41:15'!
ERROR!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/8/2022 22:41:35' prior: 50492954!
initializeCatalogOfBooks

	^ Dictionary at: self book -> self bookPrice! !

!methodRemoval: Cashier class #checkout: stamp: 'scb 6/8/2022 22:41:47'!
checkout: aCart

	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	^ self new initializeCheckoutOf: aCart.!

!methodRemoval: Cashier #initializeCheckoutOf: stamp: 'scb 6/8/2022 22:41:51'!
initializeCheckoutOf: aCart 

	cart := aCart.!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:41:52'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:41:52'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:41:52'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:41:52'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:41:52'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:41:52'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:41:52'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:42:00'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:42:00'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:42:00'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:42:00'!
ERROR!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:42:00'!
ERROR!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:42:00'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:42:00'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:42:00'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:42:00'!
ERROR!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/8/2022 22:42:25' prior: 50494489!
initializeCatalogOfBooks

	^ Dictionary add: self book -> self bookPrice! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:42:27'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:42:27'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:42:27'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:42:27'!
ERROR!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:42:27'!
ERROR!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:42:27'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:42:27'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:42:27'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:42:27'!
ERROR!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/8/2022 22:42:58' prior: 50494556!
initializeCatalogOfBooks

	^ Dictionary add: self book -> self bookPrice! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:42:59'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:42:59'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:42:59'!
ERROR!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:42:59'!
ERROR!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:42:59'!
ERROR!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:43:00'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:43:00'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:43:00'!
ERROR!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:43:00'!
ERROR!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:43:01'!
ERROR!
!CartTest methodsFor: 'initializations' stamp: 'scb 6/8/2022 22:43:13' prior: 50494589!
initializeCatalogOfBooks

	^ Dictionary with: self book -> self bookPrice! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:43:13'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:43:13'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:43:13'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:43:13'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:43:13'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:43:14'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:43:14'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:43:14'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:43:14'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/8/2022 22:43:19'!
PASSED!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'scb 6/8/2022 22:45:33'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard ledger merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/8/2022 22:45:41'!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	merchantProcessor := aMerchantProcessor.
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !

!methodRemoval: Cashier #initializeCheckoutOf:with:using:registerOn: stamp: 'scb 6/8/2022 22:46:14'!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	merchantProcessor := aMerchantProcessor.
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/8/2022 22:46:40'!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:46:40' prior: 50493659!
checkout: aCart with: aCreditCard on: aDate registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard using: self registerOn: aLedger.! !

!methodRemoval: Cashier #initializeCheckoutOf:with:registerOn: stamp: 'scb 6/8/2022 22:46:40'!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:46:43'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:46:43'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:46:43'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:46:43'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:46:43'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:46:43'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:46:43'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/8/2022 22:47:14'!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !

!methodRemoval: Cashier #initializeCheckoutOf:with:using:registerOn: stamp: 'scb 6/8/2022 22:47:17'!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/8/2022 22:47:36'!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !

!methodRemoval: Cashier #initializeCheckoutOf:with:registerOn: stamp: 'scb 6/8/2022 22:47:36'!
initializeCheckoutOf: aCart with: aCreditCard registerOn: aLedger.
	
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:48:43' prior: 50494722!
checkout: aCart with: aCreditCard on: aDate registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard using: self registerOn: aLedger.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07'!
checkout: aCart with: aCreditCard on: aDate using: aMerchantProcessor registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard using: self registerOn: aLedger.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50494217!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50494369!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50494075!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50493995!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50494238!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:07' prior: 50494417!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !

!methodRemoval: Cashier class #checkout:with:on:registerOn: stamp: 'scb 6/8/2022 22:49:07'!
checkout: aCart with: aCreditCard on: aDate registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard using: self registerOn: aLedger.!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:49:10'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:49:10'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:49:10'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:49:10'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:49:10'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:49:10'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:49:10'!
FAILURE!
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:49:22' prior: 50494810!
checkout: aCart with: aCreditCard on: aDate using: aMerchantProcessor registerOn: aLedger 
	
	(aCart isEmpty) ifTrue: [self error: self emptyCartErrorMessage ].
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: self expiredCreditCardErrorMessage ].
	
	^ self new initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:49:23'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:49:23'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:49:23'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:49:23'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:49:23'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:49:23'!
FAILURE!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:49:23'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'scb 6/8/2022 22:50:23' prior: 50494781!
initializeCheckoutOf: aCart with: aCreditCard using: aMerchantProcessor registerOn: aLedger.
	
	merchantProcessor := aMerchantProcessor.
	cart := aCart.
	creditCard := aCreditCard.
	ledger := aLedger.
	! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 22:51:13' prior: 50493926!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	cart do: [ :product | price := price + catalog at: product ].
	merchantProcessor debit: price from: creditCard.
	ledger add: price.
	
	^ price.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:51:15'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:51:15'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:51:15'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:51:15'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:51:15'!
ERROR!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:51:15'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:51:18'!
ERROR!
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 22:52:23'!
debit: aSmallInteger from: aCreditCard 
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 22:53:03' prior: 50495068!
debit: anAmount from: aCreditCard 
	
	debitedAmount := anAmount.
	debitedCreditCard := aCreditCard.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:53:04'!
PASSED!

TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedCreditCard debitedAmount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 22:53:18'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedCreditCard debitedAmount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 22:53:21'!
PASSED!

TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 22:53:31'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 22:56:16'!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:00:35' prior: 50495146!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:02:02'!
notEnoughCreditOnCreditCardErrorMessage
	
	^ 'not enough credit on credit card'! !

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:02:14'!
FAILURE!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:06:03'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard behavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:06:01' prior: 50495169!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	behavior := [Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 23:06:34' prior: 50495074!
debit: anAmount from: aCreditCard 
	
	behavior value: anAmount value: aCreditCard! !
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 23:07:53' prior: 50495236!
debit: anAmount from: aCreditCard 
	
	behavior value.
	debitedAmount := anAmount.
	debitedCreditCard := aCreditCard.! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:08:05'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard behavior error'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 23:08:02' prior: 50495242!
debit: anAmount from: aCreditCard 
	
	error value.
	debitedAmount := anAmount.
	debitedCreditCard := aCreditCard.! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:08:30'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard behavior error errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 23:08:28' prior: 50495258!
debit: anAmount from: aCreditCard 
	
	errorMessage value.
	debitedAmount := anAmount.
	debitedCreditCard := aCreditCard.! !

TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:08:39'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:09:02'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard errorMessage error'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:09:01' prior: 50495210!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !

TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard error'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'scb 6/8/2022 23:09:09'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'debitedAmount debitedCreditCard error'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:09:30' prior: 50494845!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: 'book' -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'merchant processor simulator' stamp: 'scb 6/8/2022 23:09:37' prior: 50495274!
debit: anAmount from: aCreditCard 
	
	error value.
	debitedAmount := anAmount.
	debitedCreditCard := aCreditCard.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:09:38'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:09:38'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13'!
book

	^ 'book'! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50494888!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 5 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50495400!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50494909!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50495440!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50495342!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50495483!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:13' prior: 50494824!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:14' prior: 50495529!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:14' prior: 50494868!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:14' prior: 50495571!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:14' prior: 50495303!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: 'book'.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:14' prior: 50495611!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> 10).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29'!
bookValue

	^ 10! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495420!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495461!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495506!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495550!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495591!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 10 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495754!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:29' prior: 50495637!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self book -> self bookValue).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52'!
bookValueRelation

	^ self book -> self bookValue! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495666!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495687!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495709!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495733!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495774!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:10:52' prior: 50495795!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (Dictionary with: self bookValueRelation).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21'!
initializeCatalog

	^ Dictionary with: self bookValueRelation! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495826!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495847!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495869!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495892!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495913!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:11:21' prior: 50495934!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := Cart checkout: (self initializeCatalog).
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07'!
initializeCartWithCatalog

	^ Cart checkout: (self initializeCatalog)! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50495965!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50495985!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50496006!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50496029!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50496050!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:07' prior: 50496070!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (Month month: Date today monthIndex year: Date today yearNumber) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:12:14' prior: 50496095!
initializeCartWithCatalog

	^ Cart checkout: self initializeCatalog! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41'!
monthYearToday

	^ Month month: Date today monthIndex year: Date today yearNumber! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496100!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496120!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496141!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496164!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496184!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50494931!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:13:41' prior: 50496204!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self monthYearToday) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:14:41'!
initializeMonthYearNow

	^ Month month: Date today monthIndex year: Date today yearNumber! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496337!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496240!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496258!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496318!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496353!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496278!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:14:41' prior: 50496299!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: Date today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !

!methodRemoval: CashierTest #monthYearToday stamp: 'scb 6/8/2022 23:14:41'!
monthYearToday

	^ Month month: Date today monthIndex year: Date today yearNumber!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23'!
today

	^ Date today! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496376!
initializeMonthYearNow

	^ Month month: self today monthIndex year: Date today yearNumber! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496532!
initializeMonthYearNow

	^ Month month: self today monthIndex year: self today yearNumber! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496399!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496544!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496418!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496582!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496482!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496622!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496504!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496666!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:23' prior: 50496438!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:24' prior: 50496704!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:24' prior: 50496382!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:24' prior: 50496742!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:24' prior: 50496457!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: Date today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:24' prior: 50496774!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self today monthIndex year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:16:25'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:16:26'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39'!
thisMonth

	^ self today monthIndex! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496538!
initializeMonthYearNow

	^ Month month: self thisMonth year: self today yearNumber! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496563!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496602!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496644!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496685!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496723!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496758!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:39' prior: 50496798!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self today yearNumber + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58'!
thisYear

	^ self today yearNumber! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496854!
initializeMonthYearNow

	^ Month month: self thisMonth year: self thisYear! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496860!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496878!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496898!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496919!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assert: aLedger isEmpty
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496938!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496957!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:16:58' prior: 50496973!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear + 1).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13'!
nextYear

	^ self thisYear + 1! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497005!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497023!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497042!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497116!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497082!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:13' prior: 50497100!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self nextYear).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32'!
initializeMonthYearNextYeat

	^ Month month: self thisMonth year: self nextYear! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497143!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497161!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497180!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497201!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497225!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:17:32' prior: 50497243!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYeat).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:10'!
initializeMonthYearNextYear

	^ Month month: self thisMonth year: self nextYear! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497282!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497264!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497301!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497362!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497344!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:18:10' prior: 50497321!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearNextYear).
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !

!methodRemoval: CashierTest #initializeMonthYearNextYeat stamp: 'scb 6/8/2022 23:18:10'!
initializeMonthYearNextYeat

	^ Month month: self thisMonth year: self nextYear!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:18:12'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:18:12'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50'!
initializeValidCreditCard

	^ CreditCard withExpirationDate: (self initializeMonthYearNextYear)! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497402!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497383!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497420!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497475!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497457!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:18:50' prior: 50497441!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := self initializeValidCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:19:07'!
initializeNotExpiredCreditCard

	^ CreditCard withExpirationDate: (self initializeMonthYearNextYear)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497537!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497571!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497612!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497590!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := [self error: Cashier notEnoughCreditOnCreditCardErrorMessage].
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497553!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:19:07' prior: 50497629!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !

!methodRemoval: CashierTest #initializeValidCreditCard stamp: 'scb 6/8/2022 23:19:07'!
initializeValidCreditCard

	^ CreditCard withExpirationDate: (self initializeMonthYearNextYear)!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:21:24'!
riseNotEnoughCreditErrorClosure

	^ [self error: Cashier notEnoughCreditOnCreditCardErrorMessage]! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:21:24' prior: 50497704!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assert: aLedger isEmpty.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:22:09'!
assertIsEmpty: aLedger

	^ self assert: aLedger isEmpty! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:22:09' prior: 50497063!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear - 1).
	aLedger := OrderedCollection new.
	
	self should: [Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:22:09' prior: 50497771!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:22:27' prior: 50497792!
assertIsEmpty: anOrderedCollection

	^ self assert: anOrderedCollection isEmpty! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57'!
initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497650!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497727!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497667!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497797!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear - 1).
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497687!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497745!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:24:57' prior: 50497816!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aLedger on: aCreditCard registerOn: aCart.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:25:18' prior: 50497842!
initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:25:34' prior: 50497949!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self should: [aCashier checkout] raise: Error withMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:25:51' prior: 50497884!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := [].
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:25:59' prior: 50497867!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:26:08' prior: 50497902!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear - 1).
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:26:18' prior: 50497851!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:26:20' prior: 50498051!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:26:29' prior: 50497920!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:26:42' prior: 50497936!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := Cart new.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:27:06'!
initializeEmptyCart

	^ Cart new! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:27:06' prior: 50498099!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:27:44' prior: 50498116!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raise: Error
	withMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:29:27'!
should: aClosure raiseErrorWithErrorMessage: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:30:04' prior: 50498130!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:30:34'!
should: aClosure raiseErrorWithMessageText: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage! !

!methodRemoval: CashierTest #should:raiseErrorWithErrorMessage: stamp: 'scb 6/8/2022 23:30:34'!
should: aClosure raiseErrorWithErrorMessage: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:30:51' prior: 50498033!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (Month month: self thisMonth year: self thisYear - 1).
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raiseErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:31:11' prior: 50497978!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self should: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:32:23'!
initializeMonthYearLastYear

	^ Month month: self thisMonth year: self thisYear - 1! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:32:23' prior: 50498177!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearLastYear).
	aLedger := OrderedCollection new.
	
	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raiseErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:33:05' prior: 50497377!
initializeMonthYearNextYear

	^ Month month: self thisMonth year: self thisYear+1! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:33:11' prior: 50498238!
initializeMonthYearNextYear

	^ Month month: self thisMonth year: self thisYear + 1! !

!methodRemoval: CashierTest #nextYear stamp: 'scb 6/8/2022 23:33:22'!
nextYear

	^ self thisYear + 1!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:37:59'!
assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: anErrorMessage.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:38:00' prior: 50498252!
assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self should: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:38:13'!
assert: aClosure raisesErrorWithMessageText: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage! !

!methodRemoval: CashierTest #assert:raisesErrorWithMessageText: stamp: 'scb 6/8/2022 23:38:30'!
assert: aClosure raisesErrorWithMessageText: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:38:48'!
assert: aClosure raiseErrorWithMessageText: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:38:48' prior: 50498263!
assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:38:48' prior: 50498195!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:38:48' prior: 50498150!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	
	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/8/2022 23:38:48' prior: 50498221!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearLastYear).
	aLedger := OrderedCollection new.
	
	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raiseErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !

!methodRemoval: CashierTest #should:raiseErrorWithMessageText: stamp: 'scb 6/8/2022 23:38:48'!
should: aClosure raiseErrorWithMessageText: anErrorMessage

	self should: aClosure
	raise: Error
	withMessageText: anErrorMessage!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:39:13' prior: 50495821!
bookValueRelation

	^ self book -> 10! !

!methodRemoval: CashierTest #bookValue stamp: 'scb 6/8/2022 23:39:16'!
bookValue

	^ 10!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:39:19'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:39:19'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:39:19'!
ERROR!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:39:32'!
bookValue

	^ 10! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:39:42' prior: 50498365!
bookValueRelation

	^ self book -> self bookValue! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:39:43'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:39:43'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:39:58' prior: 50497998!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := OrderedCollection new.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := OrderedCollection new.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34'!
initializeEmptyOrderedCollection

	^ OrderedCollection new! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498067!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 50 equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498016!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498432!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := OrderedCollection new.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498489!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aPrice aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498341!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearLastYear).
	aLedger := self initializeEmptyOrderedCollection.
	
	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.]
	raiseErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498306!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498083!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:40:34' prior: 50498327!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: Cashier emptyCartErrorMessage. ! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:41:57' prior: 50498509!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:41:58'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:41:58'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:43:29'!
assertBookValueEquals: aValue

	self assert: self bookValue equals: aValue! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:43:45' prior: 50498568!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger..
	
	self assertBookValueEquals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:43:52' prior: 50498598!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assertBookValueEquals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:44:21' prior: 50498650!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	self assertBookValueEquals: aCashier checkout.
! !

!methodRemoval: CashierTest #assertBookValueEquals: stamp: 'scb 6/8/2022 23:45:02'!
assertBookValueEquals: aValue

	self assert: self bookValue equals: aValue!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:45:33' prior: 50498686!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:45:47' prior: 50498666!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:48:24'!
assertAfterCheckoutOf: anAmount priceEquals: aValue

	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: anAmount of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: anAmount * self bookValue equals: aValue.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:49:18'!
assertAfterCheckoutOfAnAmountOfBooks: anAmount priceEquals: aValue

	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: anAmount of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: anAmount * self bookValue equals: aValue.! !

!methodRemoval: CashierTest #assertAfterCheckoutOf:priceEquals: stamp: 'scb 6/8/2022 23:49:18'!
assertAfterCheckoutOf: anAmount priceEquals: aValue

	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: anAmount of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: anAmount * self bookValue equals: aValue.!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:51:01' prior: 50498456!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:51:02'!
PASSED!

!methodRemoval: CashierTest #assertAfterCheckoutOfAnAmountOfBooks:priceEquals: stamp: 'scb 6/8/2022 23:51:49'!
assertAfterCheckoutOfAnAmountOfBooks: anAmount priceEquals: aValue

	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: anAmount of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: anAmount * self bookValue equals: aValue.!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:56:09' prior: 50498584!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger
	raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:56:25' prior: 50498529!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := CreditCard withExpirationDate: (self initializeMonthYearLastYear).
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger
	raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/8/2022 23:56:26'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/8/2022 23:56:26'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:56:49'!
initializeExpiredCreditCard

	^ CreditCard withExpirationDate: (self initializeMonthYearLastYear)! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:56:49' prior: 50498874!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger
	raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/8/2022 23:58:26' prior: 50498472!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/8/2022 23:59:21'!
initializeCashierCheckOut: aCart on: aCreditCard
	
	| aLedger |
	
	aLedger := self initializeEmptyOrderedCollection.
	^ self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.! !

!methodRemoval: CashierTest #initializeCashierCheckOut:on: stamp: 'scb 6/9/2022 00:00:18'!
initializeCashierCheckOut: aCart on: aCreditCard
	
	| aLedger |
	
	aLedger := self initializeEmptyOrderedCollection.
	^ self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.!
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:01:20'!
initializeCashierCheckOut: aCart on: aCreditCard

	| aLedger |
	aLedger := self initializeEmptyOrderedCollection.
	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !

!methodRemoval: CashierTest #initializeCashierCheckOut:on:registerOn: stamp: 'scb 6/9/2022 00:01:24'!
initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger!
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:01:49' prior: 50498861!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger
	raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:02:05' prior: 50498295!
assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:02:12'!
assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:02:12' prior: 50498994!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:02:12' prior: 50498924!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !

!methodRemoval: CashierTest #assertCheckoutOf:on:registeredOn:raisesErrorWithMessageText: stamp: 'scb 6/9/2022 00:02:12'!
assertCheckoutOf: aCart on: aCreditCard registeredOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckOut: aCart on: aCreditCard]
	raiseErrorWithMessageText: anErrorMessage!
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:02:28' prior: 50498975!
initializeCashierCheckOut: aCart on: aCreditCard

	| aLedger |
	aLedger := self initializeEmptyOrderedCollection.
	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:02:41' prior: 50498707!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:02:50' prior: 50499077!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:03:11' prior: 50498797!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:05:22'!
initializeCashierCheckout: aCart on: aCreditCard

	| aLedger |
	aLedger := self initializeEmptyOrderedCollection.
	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:05:22' prior: 50499105!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:05:22' prior: 50499091!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:05:22' prior: 50499018!
assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard]
	raiseErrorWithMessageText: anErrorMessage! !

!methodRemoval: CashierTest #initializeCashierCheckOut:on: stamp: 'scb 6/9/2022 00:05:22'!
initializeCashierCheckOut: aCart on: aCreditCard

	| aLedger |
	aLedger := self initializeEmptyOrderedCollection.
	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger!
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:06:24' prior: 50499119!
initializeCashierCheckout: aCart on: aCreditCard

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: 0! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:06:53'!
initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger 

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: 0! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:06:53' prior: 50499158!
assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:06:53' prior: 50499144!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:06:53' prior: 50499130!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard|
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !

!methodRemoval: CashierTest #initializeCashierCheckout:on: stamp: 'scb 6/9/2022 00:06:53'!
initializeCashierCheckout: aCart on: aCreditCard

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: 0!
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:07:00' prior: 50499185!
initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger 

	^ Cashier checkout: aCart with: aCreditCard on: (self initializeMonthYearNow) using: self registerOn: aLedger! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:07:27' prior: 50499194!
assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:07:44'!
assertCheckoutOf: aCart on: aCreditCard registerOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:07:44' prior: 50499028!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:07:44' prior: 50499041!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !

!methodRemoval: CashierTest #assertCheckoutOf:on:raisesErrorWithMessageText: stamp: 'scb 6/9/2022 00:07:44'!
assertCheckoutOf: aCart on: aCreditCard raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard registerOn: 0]
	raiseErrorWithMessageText: anErrorMessage!
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:07:48' prior: 50499260!
assertCheckoutOf: aCart on: aCreditCard registerOn: aLedger raisesErrorWithMessageText: anErrorMessage

	self assert: [self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger]
	raiseErrorWithMessageText: anErrorMessage! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:08:00' prior: 50499271!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeEmptyCart.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard registerOn: aLedger raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:08:41' prior: 50499204!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:09:00' prior: 50499219!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:10:55' prior: 50498723!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:13:31'!
initializeCartWithCatalogAndAnAmountOfBooks: anAmount

	| aCart |
	
	aCart := Cart checkout: self initializeCatalog.
	^ aCart add: anAmount of: self book! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:14:59'!
initializeCartWithCatalog: anAmount

	^ Cart checkout: self initializeCatalog! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50498940!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50499367!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50499334!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50499285!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50499350!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:14:59' prior: 50498547!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalog: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !

!methodRemoval: CashierTest #initializeCartWithCatalog stamp: 'scb 6/9/2022 00:14:59'!
initializeCartWithCatalog

	^ Cart checkout: self initializeCatalog!
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:15:21'!
initializeCartWithCatalogAndAnAmountOfBooks2: anAmount

	^ Cart checkout: self initializeCatalog! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499472!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499401!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499419!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499439!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499456!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:15:21' prior: 50499489!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks2: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !

!methodRemoval: CashierTest #initializeCartWithCatalog: stamp: 'scb 6/9/2022 00:15:21'!
initializeCartWithCatalog: anAmount

	^ Cart checkout: self initializeCatalog!

!methodRemoval: CashierTest #initializeCartWithCatalogAndAnAmountOfBooks2: stamp: 'scb 6/9/2022 00:15:25'!
initializeCartWithCatalogAndAnAmountOfBooks2: anAmount

	^ Cart checkout: self initializeCatalog!
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:33' prior: 50499578!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:37' prior: 50499521!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:41' prior: 50499595!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCart add: 1 of: self book.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:44' prior: 50499679!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:48' prior: 50499662!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 5.
	aCart add: 5 of: self book.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:51' prior: 50499710!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 5.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: 5*self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:15:59' prior: 50499645!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:12' prior: 50499321!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	self assertCheckoutOf: aCart on: aCreditCard registerOn: aLedger raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:23' prior: 50499539!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:30' prior: 50499557!
test06CashierCheckoutsCartUsingMerchantProcessor
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	error := self initializeEmptyOrderedCollection.
	
	aCashier checkout.
	
	self assert: self bookValue equals: debitedAmount.
	self assert: aCreditCard equals: debitedCreditCard.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:36' prior: 50499612!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckOut: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:43' prior: 50499810!
test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	error := self riseNotEnoughCreditErrorClosure.
	
	self assert: [aCashier checkout] raiseErrorWithMessageText: Cashier notEnoughCreditOnCreditCardErrorMessage.
	self assertIsEmpty: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:16:49' prior: 50499773!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first.! !

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:16:54'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:16:57'!
ERROR!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:16:57'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:16:57'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/9/2022 00:16:57'!
ERROR!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/9/2022 00:16:57'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/9/2022 00:16:57'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/9/2022 00:16:57'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:16:59'!
ERROR!
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:18:06' prior: 50499695!
test04CantCheckoutWithExpiredCard
	
	| aCart aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: 0 raisesErrorWithMessageText: Cashier expiredCreditCardErrorMessage.
	self assertIsEmpty: aLedger
	! !
!CashierTest methodsFor: 'initialization' stamp: 'scb 6/9/2022 00:18:59' prior: 50499387!
initializeCartWithCatalogAndAnAmountOfBooks: anAmount

	| aCart |
	
	aCart := Cart checkout: self initializeCatalog.
	anAmount timesRepeat: [aCart add: 1 of: self book].
	^aCart! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/9/2022 00:19:01'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/9/2022 00:19:01'!
PASSED!
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:20:05' prior: 50499759!
test01CantCheckoutEmptyCart

	| aCart aCreditCard aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 0.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	
	self assertCheckoutOf: aCart on: aCreditCard registerOn: aLedger raisesErrorWithMessageText: Cashier emptyCartErrorMessage.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:22:20'!
assertCheckoutPriceEqualsBooksValueAfterPurchasing: anAmount
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: anAmount.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue equals: aCashier checkout.
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:22:50' prior: 50499743!
test02CashierCanCalculateCheckoutPriceOfCartWithOneBook
	
	self assertCheckoutPriceEqualsBooksValueAfterPurchasing: 1
! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:23:02' prior: 50499727!
test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks
	
	self assertCheckoutPriceEqualsBooksValueAfterPurchasing: 5
! !

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:23:03'!
FAILURE!
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:23:21' prior: 50499961!
assertCheckoutPriceEqualsBooksValueAfterPurchasing: anAmount
	
	| aCart aCashier aCreditCard aLedger |
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: anAmount.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	self assert: self bookValue * anAmount equals: aCashier checkout.
! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/9/2022 00:23:22'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/9/2022 00:23:22'!
PASSED!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:24:25'!
updateLedgerWith: price

	^ ledger add: price! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:24:25' prior: 50495034!
checkout
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	cart do: [ :product | price := price + catalog at: product ].
	merchantProcessor debit: price from: creditCard.
	self updateLedgerWith: price.
	
	^ price.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:25:17' prior: 50500036!
updateLedgerWith: price

	ledger add: price! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:26:35'!
calculatePrice
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	cart do: [ :product | price := price + catalog at: product ].
	^ price.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:26:57' prior: 50500041!
checkout
	
	| price |
	
	price := self calculatePrice.
	merchantProcessor debit: price from: creditCard.
	self updateLedgerWith: price.
	
	^ price.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:27:58'!
merchantProcessorProcess: price

	^ merchantProcessor debit: price from: creditCard! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:27:58' prior: 50500064!
checkout
	
	| price |
	
	price := self calculatePrice.
	self merchantProcessorProcess: price.
	self updateLedgerWith: price.
	
	^ price.! !
!Cart methodsFor: 'asserting' stamp: 'scb 6/9/2022 00:29:07' prior: 50492779!
assertStrictlyPositiveAmount: anAmount
	
	^ ( self assertIsStrictlyPositiveInteger: anAmount ) ifFalse: [ self riseInvalidAmountError ]
	! !
!Cart methodsFor: 'adding' stamp: 'scb 6/9/2022 00:30:18'!
addPriceOf: aProduct To: aPrice
	
	aPrice add: (catalog at: aProduct)
	! !

!methodRemoval: Cashier #calculatePrice stamp: 'scb 6/9/2022 00:31:07'!
calculatePrice
	
	| catalog price |
	
	catalog := cart catalog.
	price := 0.
	cart do: [ :product | price := price + catalog at: product ].
	^ price.!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:31:30' prior: 50500078!
checkout
	
	| price |
	
	price := self calculatePrice.
	self merchantProcessorProcess: price.
	self updateLedgerWith: price.
	
	^ price.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:32:59'!
calculatePrice
	
	| price |
	
	price := 0.
	cart do: [ :aProduct | cart addPriceOf: aProduct To: price].
	^ price.! !

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:33:01'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:33:01'!
ERROR!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:33:01'!
ERROR!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/9/2022 00:33:01'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/9/2022 00:33:01'!
ERROR!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/9/2022 00:33:01'!
ERROR!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/9/2022 00:33:01'!
FAILURE!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:33:03'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:34:16' prior: 50500112!
calculatePrice
	
	| price |
	
	price := 0.
	cart do: [ :aProduct | price := cart addPriceOf: aProduct To: price].
	^ price.! !
!Cart methodsFor: 'adding' stamp: 'scb 6/9/2022 00:34:29' prior: 50500092!
addPriceOf: aProduct To: aPrice
	
	^ aPrice + (catalog at: aProduct)
	! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/9/2022 00:34:30'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/9/2022 00:34:30'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/9/2022 00:34:30'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/9/2022 00:34:30'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/9/2022 00:34:31'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/9/2022 00:34:31'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/9/2022 00:34:31'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/9/2022 00:34:31'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/9/2022 00:34:31'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test02CartCantAddBookOutsideOfCollection stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test03CartWithBookIsNotEmpty stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test04CartCantAddNonStrictlyPositiveAmountOfBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test04_5CartCantAddNonIntegerAmountOfBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test05CartCantAddMultipleCopiesOfBookOutsideOfCollection stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test06CartDoesntKnowNotAddedBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test07CartKnowsAddedBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CartTest #test08CartKnowsOccurrancesOfBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test01CantCheckoutEmptyCart stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test02CashierCanCalculateCheckoutPriceOfCartWithOneBook stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test03CashierCanCalculateCheckoutPriceOfCartWithMultipleBooks stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test04CantCheckoutWithExpiredCard stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test05CashierCheckoutsCart stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test06CashierCheckoutsCartUsingMerchantProcessor stamp: 'scb 6/9/2022 00:34:34'!
PASSED!

!testRun: #CashierTest #test07CashierCantCheckoutWhenCreditCardDoesNotHaveEnoughCredit stamp: 'scb 6/9/2022 00:34:34'!
PASSED!
!Cashier methodsFor: 'as yet unclassified' stamp: 'scb 6/9/2022 00:35:17' prior: 50500105!
checkout
	
	| price |
	
	price := self calculatePrice.
	self merchantProcessorProcess: price.
	self updateLedgerWith: price.
	^ price.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:39:39'!
assert: aPrice includesOneItemOfPrice: aLedger

	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:39:39' prior: 50499850!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aPrice includesOneItemOfPrice: aLedger.! !
!CashierTest methodsFor: 'test' stamp: 'scb 6/9/2022 00:39:50' prior: 50500254!
test05CashierCheckoutsCart
	
	| aCart aCashier aCreditCard aPrice aLedger|
	
	aCart := self initializeCartWithCatalogAndAnAmountOfBooks: 1.
	aCreditCard := self initializeNotExpiredCreditCard.
	aLedger := self initializeEmptyOrderedCollection.
	aCashier := self initializeCashierCheckout: aCart on: aCreditCard registerOn: aLedger.
	
	aPrice := aCashier checkout.
	
	self assert: aLedger includesOneItemOfPrice: aPrice.! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:41:00' prior: 50500247!
assert: aPrice2 includesOneItemOfPrice: aLedger

	self assert: 1 equals: aLedger size.
	self assert: aPrice2 equals: aLedger first! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:41:10' prior: 50500286!
assert: aPrice includesOneItemOfPrice: aLedger

	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:41:19' prior: 50500293!
assert: aLedger includesOneItemOfPrice: aPrice

	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first! !
!CashierTest methodsFor: 'assertions' stamp: 'scb 6/9/2022 00:41:21' prior: 50500300!
assert: aLedger includesOneItemOfPrice: aPrice

	self assert: 1 equals: aLedger size.
	self assert: aPrice equals: aLedger first! !

----SNAPSHOT----(9 June 2022 00:42:32) CuisUniversity-5096.image priorSource: 5204080!